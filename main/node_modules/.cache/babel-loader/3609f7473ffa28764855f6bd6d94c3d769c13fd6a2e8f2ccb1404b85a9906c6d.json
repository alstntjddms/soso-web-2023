{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import'./ShareBt.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShareBt(){var dispatch=useDispatch();var userData=useSelector(function(state){return state.userData;});var isShare=useSelector(function(state){return state.isShare;});var isShareBt=useSelector(function(state){return state.isShareBt;});var userID=useSelector(function(state){return state.userID;});var ShareUserID=useSelector(function(state){return state.ShareUserID;});useEffect(function(){if(userData.openDate!==0){dispatch({type:'CHANGE_ISSHARE',data:!isShare});};},[dispatch,userData.openDate]);var basicURL='https://angelo-s-library-2.netlify.app/send?userID='+userID;var image_share='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/logo/logo.png?raw=true';var title='PL@TER - 기다려지는 소식';// function of to share throught the kakaotalk message\nfunction kakaoShare(){var KakaoJS=process.env.REACT_APP_JAVASCRIPT_KEY;if(!window.Kakao.isInitialized()){window.Kakao.init(KakaoJS);};window.Kakao.Share.sendDefault({objectType:'feed',content:{title:'PL@TER',description:'PL@TER-기다려지는 소식',imageUrl:image_share,link:{mobileWebUrl:basicURL,webUrl:basicURL}},buttons:[{title:'PL@TER-편지 보내기',link:{mobileWebUrl:basicURL,webUrl:basicURL}},{title:'PL@TER-놀러가기',link:{mobileWebUrl:basicURL,webUrl:basicURL}}],installTalk:true});};// function of to share throught the twitter\nfunction shareTwitter(){var url=encodeURIComponent(basicURL);window.open(\"https://twitter.com/intent/tweet?url=\".concat(url,\"&text=\").concat(title),'소소한 프로젝트','width=400, height=400');};// function of to share throught the facebook\nfunction shareFacebook(){window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(basicURL)+'&t='+encodeURIComponent(title),'facebooksharedialog','menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=400, width=400');};function urlCopy(userID){fetch('http://plater.kr/api/member/userid/'+userID,{method:'GET',mode:'cors',cache:'no-cache',credentials:'same-origin',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(userData){dispatch({type:'CHANGE_SHAREUSERID',data:String(userData.userNickName)});}).catch(function(userDate_error){console.log(userDate_error);alert('공유 가능한 userID를 정상적으로 받아오지 못했습니다.');});var Dummy_Tag=document.createElement(\"input\");var Current_URL='https://angelo-s-library-2.netlify.app/send?userID='+ShareUserID;document.body.appendChild(Dummy_Tag);Dummy_Tag.value=Current_URL;Dummy_Tag.select();document.execCommand(\"copy\");document.body.removeChild(Dummy_Tag);alert(\"링크가 복사되었습니다.\\nThe link has been copied.\");console.log(ShareUserID);};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:isShare?'shareButton_outContainer_active':'shareButton_outContainer',onClick:function onClick(){dispatch({type:'CHANGE_ISSHAREBT',data:!isShareBt});},children:/*#__PURE__*/_jsx(\"img\",{className:\"shareButton_share\",alt:\"share\",src:\"https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/share.png?raw=true\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"shareButton_innerContainer\",children:[/*#__PURE__*/_jsx(\"img\",{className:isShareBt?'shareButton_share_btn_url_active':'shareButton_share_btn',alt:\"url\",src:\"https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/copy_link.png?raw=true\",onClick:function onClick(){urlCopy(userID);}}),/*#__PURE__*/_jsx(\"img\",{className:isShareBt?'shareButton_share_btn_kakao_active':'shareButton_share_btn',alt:\"kakao\",src:\"https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/kakao.png?raw=true\",onClick:kakaoShare}),/*#__PURE__*/_jsx(\"img\",{className:isShareBt?'shareButton_share_btn_facebook_active':'shareButton_share_btn',alt:\"facebook\",src:\"https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/facebook.png?raw=true\",onClick:shareFacebook}),/*#__PURE__*/_jsx(\"img\",{className:isShareBt?'shareButton_share_btn_twitter_active':'shareButton_share_btn',alt:\"twitter\",src:\"https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/twitter.png?raw=true\",onClick:shareTwitter})]})]});};export default ShareBt;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","ShareBt","dispatch","userData","state","isShare","isShareBt","userID","ShareUserID","openDate","type","data","basicURL","image_share","title","kakaoShare","KakaoJS","process","env","REACT_APP_JAVASCRIPT_KEY","window","Kakao","isInitialized","init","Share","sendDefault","objectType","content","description","imageUrl","link","mobileWebUrl","webUrl","buttons","installTalk","shareTwitter","url","encodeURIComponent","open","shareFacebook","urlCopy","fetch","method","mode","cache","credentials","headers","then","res","json","String","userNickName","catch","userDate_error","console","log","alert","Dummy_Tag","document","createElement","Current_URL","body","appendChild","value","select","execCommand","removeChild"],"sources":["C:/Users/blue_/Desktop/GitHub/soso-web/WebContent/web/main/src/components/ShareBt.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './ShareBt.css';\r\n\r\nfunction ShareBt() {\r\n    const dispatch = useDispatch();\r\n    const userData = useSelector((state) => state.userData);\r\n    const isShare = useSelector((state) => state.isShare);\r\n    const isShareBt = useSelector((state) => state.isShareBt);\r\n    const userID = useSelector((state) => state.userID);\r\n    const ShareUserID = useSelector((state) => state.ShareUserID);\r\n\r\n    useEffect(() => {\r\n        if (userData.openDate !== 0) {\r\n            dispatch({ type: 'CHANGE_ISSHARE', data: !isShare });\r\n        };\r\n    }, [dispatch, userData.openDate]);\r\n\r\n    const basicURL = 'https://angelo-s-library-2.netlify.app/send?userID=' + userID;\r\n    const image_share = 'https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/logo/logo.png?raw=true';\r\n    const title = 'PL@TER - 기다려지는 소식';\r\n\r\n    // function of to share throught the kakaotalk message\r\n    function kakaoShare() {\r\n        const KakaoJS = process.env.REACT_APP_JAVASCRIPT_KEY\r\n        if (!window.Kakao.isInitialized()) {\r\n            window.Kakao.init(KakaoJS);\r\n        };\r\n        window.Kakao.Share.sendDefault({\r\n            objectType: 'feed',\r\n            content: {\r\n                title: 'PL@TER',\r\n                description: 'PL@TER-기다려지는 소식',\r\n                imageUrl: image_share,\r\n                link: {\r\n                    mobileWebUrl: basicURL,\r\n                    webUrl: basicURL,\r\n                },\r\n            },\r\n            buttons: [\r\n                {\r\n                    title: 'PL@TER-편지 보내기',\r\n                    link: {\r\n                        mobileWebUrl: basicURL,\r\n                        webUrl: basicURL,\r\n                    },\r\n                },\r\n                {\r\n                    title: 'PL@TER-놀러가기',\r\n                    link: {\r\n                        mobileWebUrl: basicURL,\r\n                        webUrl: basicURL,\r\n                    },\r\n                },\r\n            ],\r\n            installTalk: true,\r\n        });\r\n    };\r\n\r\n    // function of to share throught the twitter\r\n    function shareTwitter() {\r\n        let url = encodeURIComponent(basicURL);\r\n        window.open(`https://twitter.com/intent/tweet?url=${url}&text=${title}`, '소소한 프로젝트', 'width=400, height=400');\r\n    };\r\n\r\n    // function of to share throught the facebook\r\n    function shareFacebook() {\r\n        window.open('https://www.facebook.com/sharer/sharer.php?u='\r\n            + encodeURIComponent(basicURL)\r\n            + '&t=' + encodeURIComponent(title),\r\n            'facebooksharedialog',\r\n            'menubar=no, toolbar=no, resizable=yes, scrollbars=yes, height=400, width=400');\r\n    };\r\n\r\n    function urlCopy(userID) {\r\n        fetch('http://plater.kr/api/member/userid/' + userID, {\r\n            method: 'GET',\r\n            mode: 'cors',\r\n            cache: 'no-cache',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then((userData) => {\r\n                dispatch({ type: 'CHANGE_SHAREUSERID', data: String(userData.userNickName) });\r\n            })\r\n            .catch((userDate_error) => {\r\n                console.log(userDate_error);\r\n                alert('공유 가능한 userID를 정상적으로 받아오지 못했습니다.');\r\n            });\r\n        let Dummy_Tag = document.createElement(\"input\");\r\n        let Current_URL = 'https://angelo-s-library-2.netlify.app/send?userID=' + ShareUserID;\r\n        document.body.appendChild(Dummy_Tag);\r\n        Dummy_Tag.value = Current_URL;\r\n        Dummy_Tag.select();\r\n        document.execCommand(\"copy\");\r\n        document.body.removeChild(Dummy_Tag);\r\n        alert(\"링크가 복사되었습니다.\\nThe link has been copied.\");\r\n        console.log(ShareUserID);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className={isShare ? 'shareButton_outContainer_active' : 'shareButton_outContainer'} onClick={() => { dispatch({ type: 'CHANGE_ISSHAREBT', data: !isShareBt }); }}>\r\n                <img className='shareButton_share' alt='share' src='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/share.png?raw=true'></img>\r\n            </div>\r\n            <div className='shareButton_innerContainer'>\r\n                <img className={isShareBt ? 'shareButton_share_btn_url_active' : 'shareButton_share_btn'} alt='url' src='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/copy_link.png?raw=true' onClick={() => { urlCopy(userID) }}></img>\r\n                <img className={isShareBt ? 'shareButton_share_btn_kakao_active' : 'shareButton_share_btn'} alt='kakao' src='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/kakao.png?raw=true' onClick={kakaoShare}></img>\r\n                <img className={isShareBt ? 'shareButton_share_btn_facebook_active' : 'shareButton_share_btn'} alt='facebook' src='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/facebook.png?raw=true' onClick={shareFacebook}></img>\r\n                <img className={isShareBt ? 'shareButton_share_btn_twitter_active' : 'shareButton_share_btn'} alt='twitter' src='https://github.com/Lee-Seung-Wook/Angelo-s_Library/blob/main/lib/icon/twitter.png?raw=true' onClick={shareTwitter}></img>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ShareBt;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}