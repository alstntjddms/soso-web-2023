{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\blue_\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\GitHub\\\\soso-web\\\\main\\\\src\\\\components\\\\Restart.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport './Restart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Restart() {\n  _s();\n  const dispatch = useDispatch();\n  const isRestart = useSelector(state => state.isRestart);\n  const isNamePage = useSelector(state => state.isNamePage);\n  const isPlanetClosed = useSelector(state => state.isPlanetClosed);\n  const userData = useSelector(state => state.userData);\n  const userID = useSelector(state => state.userID);\n\n  // (팝업) 행성 만료\n  function PlanetClosedConfirm() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isPlanetClosed ? \"isPlanetClosedConfirm\" : \"isPlanetClosedConfirm_fade\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"isPlanetClosedConfirm_outContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"isPlanetClosedConfirm_title\",\n            children: [userData.nickname, \" \\uD589\\uC131\\uC744\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"isPlanetClosedConfirm_title\",\n            children: \"\\uB9CC\\uB8CC\\uC2DC\\uD0A4\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"isPlanetClosedConfirm_p\",\n            children: \"\\uD589\\uC131\\uC774 \\uB9CC\\uB8CC\\uB418\\uBA74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"isPlanetClosedConfirm_p\",\n            children: \"\\uBC1B\\uC558\\uB358 \\uD3B8\\uC9C0\\uB3C4 \\uBAA8\\uB450 \\uC0AD\\uC81C\\uB418\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"isPlanetClosedConfirm_innerBox\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"isPlanetClosedConfirm_button_signOut\",\n              onClick: () => {\n                dispatch({\n                  type: 'CHANGE_ISPLANETCLOSED',\n                  data: !isPlanetClosed\n                });\n              },\n              children: \"\\uCDE8\\uC18C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"isPlanetClosedConfirm_button_cancel\",\n              onClick: () => {\n                ResetUserOpenDate();\n              },\n              children: \"\\uB9CC\\uB8CC\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this);\n  }\n  ;\n\n  // 행성 만료 기능\n  async function ResetUserOpenDate() {\n    await fetch(`${process.env.REACT_APP_REGISTER_OPENDATE}`, {\n      method: 'PATCH',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(String(userID))\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error();\n      }\n      ;\n      dispatch({\n        type: 'CHANGE_ISPLANETCLOSED',\n        data: !isPlanetClosed\n      });\n      dispatch({\n        type: 'CHANGE_ISNAMEPAGE',\n        data: !isNamePage\n      });\n      dispatch({\n        type: 'CHANGE_ISRESTART',\n        data: !isRestart\n      });\n      dispatch({\n        type: 'CHANGE_LETTERDATA',\n        data: []\n      });\n      dispatch({\n        type: 'CHANGE_OPENDATE',\n        data: Number(874422000000)\n      });\n    }).catch(error => {\n      alert('서버가 불안정 하여 행성 만료에 실패했습니다. 다시 시도해주세요.');\n    });\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"restart_btn\",\n      onClick: () => {\n        dispatch({\n          type: 'CHANGE_ISPLANETCLOSED',\n          data: !isPlanetClosed\n        });\n      },\n      children: \"\\uC0C8 \\uD589\\uC131 \\uAC1C\\uC124\\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PlanetClosedConfirm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n_s(Restart, \"uVPguhHfbcd1JehpxViCydwTdAI=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n_c = Restart;\n;\nexport default Restart;\nvar _c;\n$RefreshReg$(_c, \"Restart\");","map":{"version":3,"names":["React","useSelector","useDispatch","Restart","dispatch","isRestart","state","isNamePage","isPlanetClosed","userData","userID","PlanetClosedConfirm","nickname","type","data","ResetUserOpenDate","fetch","process","env","REACT_APP_REGISTER_OPENDATE","method","mode","cache","credentials","headers","body","JSON","stringify","String","then","res","ok","Error","Number","catch","error","alert"],"sources":["C:/Users/blue_/OneDrive/바탕 화면/GitHub/soso-web/main/src/components/Restart.js"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport './Restart.css';\r\n\r\nfunction Restart() {\r\n    const dispatch = useDispatch();\r\n    const isRestart = useSelector((state) => state.isRestart);\r\n    const isNamePage = useSelector((state) => state.isNamePage);\r\n    const isPlanetClosed = useSelector((state) => state.isPlanetClosed);\r\n    const userData = useSelector((state) => state.userData);\r\n    const userID = useSelector((state) => state.userID);\r\n\r\n    // (팝업) 행성 만료\r\n    function PlanetClosedConfirm() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className={isPlanetClosed ? \"isPlanetClosedConfirm\" : \"isPlanetClosedConfirm_fade\"}>\r\n                    <div className='isPlanetClosedConfirm_outContainer'>\r\n                        <p className='isPlanetClosedConfirm_title'>{userData.nickname} 행성을</p>\r\n                        <p className='isPlanetClosedConfirm_title'>만료시키겠습니까?</p>\r\n                        <p className='isPlanetClosedConfirm_p'>행성이 만료되면</p>\r\n                        <p className='isPlanetClosedConfirm_p'>받았던 편지도 모두 삭제되요.</p>\r\n                        <div className='isPlanetClosedConfirm_innerBox'>\r\n                            <div className='isPlanetClosedConfirm_button_signOut' onClick={() => {\r\n                                dispatch({ type: 'CHANGE_ISPLANETCLOSED', data: !isPlanetClosed });\r\n                            }}>취소</div>\r\n                            <div className='isPlanetClosedConfirm_button_cancel' onClick={() => {\r\n                                ResetUserOpenDate();\r\n                            }}>만료하기</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    };\r\n\r\n    // 행성 만료 기능\r\n    async function ResetUserOpenDate() {\r\n        await fetch(`${process.env.REACT_APP_REGISTER_OPENDATE}`, {\r\n            method: 'PATCH',\r\n            mode: 'cors',\r\n            cache: 'no-cache',\r\n            credentials: 'same-origin',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(String(userID))\r\n        })\r\n            .then((res) => {\r\n                if (!res.ok) {\r\n                    throw new Error();\r\n                };\r\n                dispatch({ type: 'CHANGE_ISPLANETCLOSED', data: !isPlanetClosed });\r\n                dispatch({ type: 'CHANGE_ISNAMEPAGE', data: !isNamePage });\r\n                dispatch({ type: 'CHANGE_ISRESTART', data: !isRestart });\r\n                dispatch({ type: 'CHANGE_LETTERDATA', data: [] });\r\n                dispatch({ type: 'CHANGE_OPENDATE', data: Number(874422000000) });\r\n            })\r\n            .catch((error) => {\r\n                alert('서버가 불안정 하여 행성 만료에 실패했습니다. 다시 시도해주세요.');\r\n            })\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"restart_btn\" onClick={() => {\r\n                dispatch({ type: 'CHANGE_ISPLANETCLOSED', data: !isPlanetClosed });\r\n            }}>새 행성 개설하기</div>\r\n            <PlanetClosedConfirm></PlanetClosedConfirm>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Restart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}